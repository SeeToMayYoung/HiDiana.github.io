<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HiDiana</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>
<body onload="assignQuestion()">
    <div class="w-[100vw] h-[100vh] bg-black flex flex-row justify-center">
        <div class="bg-white h-[100%] aspect-[9/21] flex flex-col align-center">
            <div class="h-[25vh] bg-gray-300 flex flex-col justify-center">   
                <span id="asd" class="material-symbols-outlined text-center pt-4 text-[10vh]">
                    fact_check
                </span>
                <h1 class="text-center font-bold text-2xl">
                    Question Page
                </h1>
                <div class="p-6">
                    <div class="w-full bg-gray-200 rounded-full dark:bg-gray-700">
                        <div id="loadingBar" class="bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full" style="width: 0%"> 0%</div>
                      </div>
                </div>
            </div>
            <div class="bg-gray-400 flex flex-col h-[50vh] flex flex-col justify-center items-center">
                <h1 id="questionNumber" class="font-bold text-2xl underline">sample_text</h1>
                <p id="questionText" class="text-center font-bold py-4">sample_text</p>
                    <!-- <span id="addButton" class="material-symbols-outlined text-center pt-4 text-[10vh]">
                        add_circle
                    </span> -->
                <div class="flex flex-col align-center w-[75%] gap-4">
                    <button id="optAText" onclick="checkAnswer('optA')" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                        Button
                      </button>
                    <button id="optBText" onclick="checkAnswer('optB')" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                        Button
                      </button>
                    <button id="optCText" onclick="checkAnswer('optC')" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                        Button
                      </button>
                    <button id="optDText" onclick="checkAnswer('optD')" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                        Button
                      </button>
                </div>
            </div>
            <div class="bg-gray-700 h-[25vh] flex flex-col justify-center">
                <h1 class="text-center text-white font-bold text-2xl">
                    xixixi
                </h1>
            </div>
        </div>
    </div>
</body>
</html>
<script>
    let answered = 0
    let question_index = 0

    let question = [
        {
            "question" : 'This is Question 1?',
            "optA" : {
                "text" : 'A. This is Incorrect',
                "status" : false
            },
            "optB" : {
                "text" : 'B. This is Incorrect',
                "status" : false
            },
            "optC" : {
                "text" : 'C. This is Correct',
                "status" : true
            },
            "optD" : {
                "text" : 'D. This is Incorrect',
                "status" : false
            }
        },
        {
            "question" : 'This is Question 2?',
            "optA" : {
                "text" : 'A. This is Incorrect',
                "status" : false
            },
            "optB" : {
                "text" : 'B. This is Correct',
                "status" : true
            },
            "optC" : {
                "text" : 'C. This is Incorrect',
                "status" : false
            },
            "optD" : {
                "text" : 'D. This is Incorrect',
                "status" : false
            }
        },
        {
            "question" : 'This is Question 3?',
            "optA" : {
                "text" : 'A. This is Correct',
                "status" : true
            },
            "optB" : {
                "text" : 'B. This is Incorrect',
                "status" : false
            },
            "optC" : {
                "text" : 'C. This is Incorrect',
                "status" : false
            },
            "optD" : {
                "text" : 'D. This is Incorrect',
                "status" : false
            }
        },
    ]

    function checkAnswer(option){
        if(question[question_index][option]['status']){
            fireCorrectAlert()
            if(question_index+1 < question.length){
                question_index += 1
                document.getElementById("questionNumber").innerText = 'Question ' + (question_index+1) + ':'
                document.getElementById("questionText").innerText = question[question_index]['question']
                document.getElementById("optAText").innerText = question[question_index]['optA']['text']
                document.getElementById("optBText").innerText = question[question_index]['optB']['text']
                document.getElementById("optCText").innerText = question[question_index]['optC']['text']
                document.getElementById("optDText").innerText = question[question_index]['optD']['text']
                addAnswered()
            }
        }else{
            fireIncorrectAlert()
        }
    }

    function assignQuestion(){
        document.getElementById("questionNumber").innerText = 'Question ' + (question_index+1) + ':'
        document.getElementById("questionText").innerText = question[question_index]['question']
        document.getElementById("optAText").innerText = question[question_index]['optA']['text']
        document.getElementById("optBText").innerText = question[question_index]['optB']['text']
        document.getElementById("optCText").innerText = question[question_index]['optC']['text']
        document.getElementById("optDText").innerText = question[question_index]['optD']['text']
    }

    function addAnswered(){
        if(answered < 20){
            console.log(answered)
            answered += 1
            let percentage = (answered / 20) * 100
            document.getElementById("loadingBar").innerText = percentage.toFixed(2) + '%'
            document.getElementById("loadingBar").style.width = percentage.toFixed(2) + '%'
        }
    }

    function fireCorrectAlert(){
        Swal.fire({
            title: 'Correct!',
            text: 'Jawaban anda benar!',
            icon: 'success'
        })
    }

    function fireIncorrectAlert(){
        Swal.fire({
            title: 'Incorrect!',
            text: 'Jawaban anda salah!',
            icon: 'error'
        })
    }

    document.getElementById("asd").addEventListener("click", fireAlert)

    document.getElementById("addButton").addEventListener("click", addAnswered)
</script>